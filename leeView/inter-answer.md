# inter-answer

> å·¥ä½œæ—¥æ¯å¤©ä¸€é“å‰ç«¯å¤§å‚é¢è¯•é¢˜ï¼Œç¥å¤§å®¶å¤©å¤©è¿›æ­¥ï¼Œä¸€å¹´åä¼šçœ‹åˆ°ä¸ä¸€æ ·çš„è‡ªå·±ã€‚

## ä»Šæ—¥ç­”ç–‘

2019-04-16

> ç¬¬ 55 é¢˜ï¼šæŸå…¬å¸ 1 åˆ° 12 æœˆä»½çš„é”€å”®é¢å­˜åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œé¢ï¼Œå¦‚ä¸‹ï¼š{1:222, 2:123, 5:888}ï¼Œè¯·æŠŠæ•°æ®å¤„ç†ä¸ºå¦‚ä¸‹ç»“æ„ï¼š[222, 123, null, null, 888, null, null, null, null, null, null, null]ã€‚

 A:

```js me
const mons = Array.from({length: 12}, () => null)
const data = {1:222, 2:123, 5:888}
let ret = mons.map((item, index) => {
  if ((index + 1) in data) {
    return data[index + 1]
  }
  return item
})

// æˆ‘è¿™é‡Œä¹Ÿå¯ä»¥ä¼˜åŒ–çš„å•Š

let ret = mons.map((_, index) => data[index + 1] || null) // ä¸Šé¢çš„å•°å—¦äº†
```

 NOTE:  çœ‹çœ‹åˆ«äººæ˜¯æ€ä¹ˆæƒ³çš„ã€‚å­¦ä¹ ã€‚å¤šå‘å¤§ç‰›çœ‹é½å¾ˆéœ€è¦

```js ç¬¬ä¸€ä¸ªç§æ–¹å¼
let obj = {1:222, 2:123, 5:888}
obj.length = 12 // -è¿™ä¸€æ­¥çœŸçš„æ˜¯å¾ˆèµ
let ret = Array.from(obj).map(item => item ? item : null) // ä½†æ˜¯ç´¢å¼•ä¸å¯¹
```

```js ç¬¬äºŒç§æ–¹å¼
let obj = {1:222, 2:123, 5:888}
obj.length = 13
obj[Symbol.itemrator] = Array.prototype[Symbol.iterator] // ç®€ç›´æ˜¯ä¸€ä¸ªæ€å™¨
let ret = [...obj].slice(1).map(item => item ? item : null)
```

```js ç¬¬ä¸‰ç§
let obj = {1:222, 2:123, 5:888}
let ret = Array.from({length: 12}, (_, index) => obj[index + 1] || null) // ğŸ‘çœŸçš„æ˜¯æç®€ä¸»ä¹‰
```

2019-04-15

> ç¬¬ 54 é¢˜ï¼šå†’æ³¡æ’åºå¦‚ä½•å®ç°ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Œ è¿˜å¯ä»¥å¦‚ä½•æ”¹è¿›ï¼Ÿ

REFER: https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/94

 A:

```js
const bubbleSort = arr => {
  // let arr = []
  let len = arr.length
  for (let i = 0; i < len - 1; i++) {
    for (let j = i + 1; j < len; j++) {
      if (arr[i] > arr[j]) {
        let temp = arr[i]
        arr[i] = arr[j]
        arr[j] = temp
      }
    }
  }
}
```

æ—¶é—´å¤æ‚åº¦ï¼ˆå¤§Oè®¡æ•°æ³•ï¼‰ï¼šO(n^2)

> é€šå¸¸è¯´çš„æ—¶é—´å¤æ‚åº¦æ˜¯æŒ‡çš„æœ€åçš„æƒ…å†µã€‚å…·ä½“è§£æå¦‚ä¸‹ï¼š

ä¸¤å±‚forå¾ªç¯ï¼Œå‡å¦‚æ¯ä¸€æ¬¡ifæ¡ä»¶éƒ½æ»¡è¶³ï¼Œå°±æ˜¯éœ€è¦æ‰§è¡Œ `n * (n-1) * 3` æ¬¡ï¼Œ å–æœ€é«˜æ¬¡é¡¹åå¸¸æ•°ç³»æ•°å˜ä¸º1ä¹‹åå¯ä»¥å¾—åˆ°æ—¶é—´å¤æ‚åº¦ä¸º n^2

> ç¬¬ 53 é¢˜ï¼šè¾“å‡ºä»¥ä¸‹ä»£ç çš„æ‰§è¡Œç»“æœå¹¶è§£é‡Šä¸ºä»€ä¹ˆ

```js
var a = {n: 1};
var b = a;
a.x = a = {n: 2};

console.log(a.x)
console.log(b.x)
```

REFER: https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/93
 A:

ç»“æœ:
undefined
{n:2}

é¦–å…ˆï¼Œaå’ŒbåŒæ—¶å¼•ç”¨äº†{n:2}å¯¹è±¡ï¼Œæ¥ç€æ‰§è¡Œåˆ°a.x = a = {nï¼š2}è¯­å¥ï¼Œå°½ç®¡èµ‹å€¼æ˜¯ä»å³åˆ°å·¦çš„æ²¡é”™ï¼Œ**ä½†æ˜¯.çš„ä¼˜å…ˆçº§æ¯”=è¦é«˜**ï¼Œæ‰€ä»¥è¿™é‡Œé¦–å…ˆæ‰§è¡Œa.xï¼Œç›¸å½“äºä¸ºaï¼ˆæˆ–è€…bï¼‰æ‰€æŒ‡å‘çš„{n:1}å¯¹è±¡æ–°å¢äº†ä¸€ä¸ªå±æ€§xï¼Œå³æ­¤æ—¶å¯¹è±¡å°†å˜ä¸º{n:1;x:undefined}ã€‚ä¹‹åæŒ‰æ­£å¸¸æƒ…å†µï¼Œä»å³åˆ°å·¦è¿›è¡Œèµ‹å€¼ï¼Œæ­¤æ—¶æ‰§è¡Œa = {n:2}çš„æ—¶å€™ï¼Œaçš„å¼•ç”¨æ”¹å˜ï¼ŒæŒ‡å‘äº†æ–°å¯¹è±¡{nï¼š2},è€Œbä¾ç„¶æŒ‡å‘çš„æ˜¯æ—§å¯¹è±¡ã€‚**ä¹‹åæ‰§è¡Œa.x = {nï¼š2}çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šé‡æ–°è§£æä¸€éa**ï¼Œè€Œæ˜¯æ²¿ç”¨æœ€åˆè§£æa.xæ—¶å€™çš„aï¼Œä¹Ÿå³æ—§å¯¹è±¡ï¼Œæ•…æ­¤æ—¶æ—§å¯¹è±¡çš„xçš„å€¼ä¸º{nï¼š2}ï¼Œæ—§å¯¹è±¡ä¸º {n:1;x:{nï¼š2}}ï¼Œå®ƒè¢«bå¼•ç”¨ç€ã€‚
åé¢è¾“å‡ºa.xçš„æ—¶å€™ï¼Œåˆè¦è§£æaäº†ï¼Œæ­¤æ—¶çš„aæ˜¯æŒ‡å‘æ–°å¯¹è±¡çš„aï¼Œè€Œè¿™ä¸ªæ–°å¯¹è±¡æ˜¯æ²¡æœ‰xå±æ€§çš„ï¼Œæ•…è®¿é—®æ—¶è¾“å‡ºundefinedï¼›è€Œè®¿é—®b.xçš„æ—¶å€™ï¼Œå°†è¾“å‡ºæ—§å¯¹è±¡çš„xçš„å€¼ï¼Œå³{n:2}ã€‚

**æŠŠ a.x = a = {n: 2}ï¼Œ æ¢æˆ b.x = a = {n: 2} çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯ä¼šå¥½ç†è§£äº†ï¼Œè™½ç„¶ç¡®å®æ˜¯è¿™æ ·ã€‚**
å¥½åƒæ˜¯è¿™ä¹ˆä¸ªé“ç†

2019-04-11

> ç¬¬ 52 é¢˜ï¼šæ€ä¹ˆè®©ä¸€ä¸ª div æ°´å¹³å‚ç›´å±…ä¸­

 A:

```css
div.parent{
  display:flex;
}
div.child{
  margin:auto;
}
```

 TIP: -
è¿™ä¸ªæ¯”è¾ƒå¥½ã€‚ä¹‹å‰çœ‹è¿‡ï¼Œå·®ç‚¹å¿˜è®°äº†

```css
.parent {
        display: table-cell;
        height: 200px;
        width: 200px;
        background-color: orange;
        text-align: center;
        vertical-align: middle;
}
 .child {
        display: inline-block;
        width: 100px;
        height: 100px;
        background-color: blue;
}

/* table-cell æ˜¯ä¸æ”¯æŒè®¾ç½® width: 100%; æƒ³è®© .parent å’Œ å…¶å®¹å™¨å®½åº¦ä¸€è‡´æœ€å¥½è®¾ç½®ä¸€ä¸ª dispaly: table; çˆ¶å®¹å™¨ã€‚ */

<div class="parent-fix">
  <div class="parent">
    <div class="child">DEMO</div>
  </div>
</div>

.parent-fix {
  display: table;
  width: 100%;
}
```

2019-04-10

> ç¬¬ 51 é¢˜ï¼šVue çš„å“åº”å¼åŸç†ä¸­ Object.defineProperty æœ‰ä»€ä¹ˆç¼ºé™·ï¼Ÿä¸ºä»€ä¹ˆåœ¨ Vue3.0 é‡‡ç”¨äº† Proxyï¼ŒæŠ›å¼ƒäº† Object.definePropertyï¼Ÿ

 A:

1. `Object.defineProperty`æ— æ³•ç›‘æ§åˆ°æ•°ç»„ä¸‹æ ‡çš„å˜åŒ–ï¼Œå¯¼è‡´é€šè¿‡æ•°ç»„ä¸‹æ ‡æ·»åŠ å…ƒç´ ï¼Œä¸èƒ½å®æ—¶å“åº”ï¼›
2. `Object.defineProperty`åªèƒ½åŠ«æŒå¯¹è±¡çš„å±æ€§ï¼Œä»è€Œéœ€è¦å¯¹æ¯ä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªå±æ€§è¿›è¡Œéå†ï¼Œå¦‚æœï¼Œå±æ€§å€¼æ˜¯å¯¹è±¡ï¼Œè¿˜éœ€è¦æ·±åº¦éå†ã€‚`Proxy`å¯ä»¥åŠ«æŒæ•´ä¸ªå¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚
3. `Proxy`ä¸ä»…å¯ä»¥ä»£ç†å¯¹è±¡ï¼Œè¿˜å¯ä»¥ä»£ç†æ•°ç»„ã€‚è¿˜å¯ä»¥ä»£ç†åŠ¨æ€å¢åŠ çš„å±æ€§ã€‚

2019-04-09

> ç¬¬ 50 é¢˜ï¼šå®ç° (5).add(3).minus(2) åŠŸèƒ½

 A:
åŸå‹é“¾å®ç°

```js
Number.prototype.add = function (n) {
  // return this.valueOf() + n
  return this + n
}

Number.prototype.minus = function (n) {
  // return this.valueOf() - n
  return this - n
}
```

2019-04-09 PM

> ä¸‹åˆèŒ¶ï¼šè¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆ

```js
var z = 10;

function foo(){
    console.log(z);
}

(function(funArg){
    var z = 20;
    funArg();
})(foo);
```

 A:

è¾“å‡ºï¼š10

å› ä¸º js çš„å‡½æ•°æ˜¯`é™æ€ä½œç”¨åŸŸ`ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°çš„ä½œç”¨åŸŸåœ¨å®šä¹‰çš„é‚£ä¸€åˆ»å°±å·²ç»ç¡®å®šäº†ï¼Œæ‰€ä»¥å—²ç”¨ funArg æ—¶ï¼Œå®é™…ä¸Šè°ƒç”¨çš„æ˜¯å¤–éƒ¨çš„ foo å‡½æ•°ï¼Œæ‰€ä»¥ä½œç”¨åŸŸä¸Šæ˜¯è°ƒç”¨ foo å‡½æ•°çš„ä½œç”¨åŸŸ

> ç¬¬ 49 é¢˜ï¼šä¸ºä»€ä¹ˆé€šå¸¸åœ¨å‘é€æ•°æ®åŸ‹ç‚¹è¯·æ±‚çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯ 1x1 åƒç´ çš„é€æ˜ gif å›¾ç‰‡ï¼Ÿ

 A:
ä½œç”¨ï¼šå·¥ä½œä¸­ï¼Œç”¨äºå‰ç«¯ç›‘æ§ï¼Œæ¯”å¦‚æ›å…‰ç­‰ç­‰ï¼Œè°·æ­Œå’Œç™¾åº¦çš„éƒ½æ˜¯ç”¨çš„1x1 åƒç´ çš„é€æ˜ gif å›¾ç‰‡ï¼›
why?

1. æ²¡æœ‰è·¨åŸŸé—®é¢˜ï¼Œä¸€èˆ¬è¿™ç§ä¸ŠæŠ¥æ•°æ®ï¼Œä»£ç è¦å†™é€šç”¨çš„ï¼›ï¼ˆæ’é™¤ajaxï¼‰
2. ä¸ä¼šé˜»å¡é¡µé¢åŠ è½½ï¼Œå½±å“ç”¨æˆ·çš„ä½“éªŒï¼Œåªè¦new Imageå¯¹è±¡å°±å¥½äº†ï¼›ï¼ˆæ’é™¤JS/CSSæ–‡ä»¶èµ„æºæ–¹å¼ä¸ŠæŠ¥ï¼‰
3. åœ¨æ‰€æœ‰å›¾ç‰‡ä¸­ï¼Œä½“ç§¯æœ€å°ï¼›ï¼ˆæ¯”è¾ƒPNG/JPGï¼‰

* èƒ½å¤Ÿå®Œæˆæ•´ä¸ª HTTP è¯·æ±‚+å“åº”ï¼ˆå°½ç®¡ä¸éœ€è¦å“åº”å†…å®¹ï¼‰
* è§¦å‘ GET è¯·æ±‚ä¹‹åä¸éœ€è¦è·å–å’Œå¤„ç†æ•°æ®ã€æœåŠ¡å™¨ä¹Ÿä¸éœ€è¦å‘é€æ•°æ®
* è·¨åŸŸå‹å¥½
* æ‰§è¡Œè¿‡ç¨‹æ— é˜»å¡
* ç›¸æ¯” XMLHttpRequest å¯¹è±¡å‘é€ GET è¯·æ±‚ï¼Œæ€§èƒ½ä¸Šæ›´å¥½
* GIFçš„æœ€ä½åˆæ³•ä½“ç§¯æœ€å°ï¼ˆæœ€å°çš„BMPæ–‡ä»¶éœ€è¦74ä¸ªå­—èŠ‚ï¼ŒPNGéœ€è¦67ä¸ªå­—èŠ‚ï¼Œè€Œåˆæ³•çš„GIFï¼Œåªéœ€è¦43ä¸ªå­—èŠ‚ï¼‰

```html
<script type="text/javascript">
  var thisPage = location.href;
  var referringPage = (document.referrer) ? document.referrer : "none";
  var beacon = new Image();
  beacon.src = "http://www.example.com/logger/beacon.gif?page=" + encodeURI(thisPage)
  + "&ref=" + encodeURI(referringPage);
</script>
```

2019-04-07

> ç¬¬ 48 é¢˜ï¼šcall å’Œ apply çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Œå“ªä¸ªæ€§èƒ½æ›´å¥½ä¸€äº›

 A:

* Function.prototype.applyå’ŒFunction.prototype.call çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼ŒåŒºåˆ«åœ¨äºä¼ å…¥å‚æ•°çš„ä¸åŒï¼›
* ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ï¼ŒæŒ‡å®šå‡½æ•°ä½“å†…thisçš„æŒ‡å‘ï¼›
* ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹ä¸åŒï¼Œapplyæ˜¯ä¼ å…¥å¸¦ä¸‹æ ‡çš„é›†åˆï¼Œæ•°ç»„æˆ–è€…ç±»æ•°ç»„ï¼ŒapplyæŠŠå®ƒä¼ ç»™å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œcallä»ç¬¬äºŒä¸ªå¼€å§‹ä¼ å…¥çš„å‚æ•°æ˜¯ä¸å›ºå®šçš„ï¼Œéƒ½ä¼šä¼ ç»™å‡½æ•°ä½œä¸ºå‚æ•°ã€‚
* callæ¯”applyçš„æ€§èƒ½è¦å¥½ï¼Œå¹³å¸¸å¯ä»¥å¤šç”¨call, callä¼ å…¥å‚æ•°çš„æ ¼å¼æ­£æ˜¯å†…éƒ¨æ‰€éœ€è¦çš„æ ¼å¼

æ€»ç»“: åœ¨æˆ‘ä»¬å¹³æ—¶çš„å¼€å‘ä¸­å…¶å®ä¸å¿…å…³æ³¨callå’Œapplyçš„æ€§èƒ½é—®é¢˜ï¼Œä½†æ˜¯å¯ä»¥å°½å¯èƒ½çš„å»ç”¨callï¼Œç‰¹åˆ«æ˜¯es6çš„resetè§£æ„çš„æ”¯æŒï¼ŒcallåŸºæœ¬å¯ä»¥ä»£æ›¿applyï¼Œå¯ä»¥çœ‹å‡º`lodash`æºç é‡Œé¢å¹¶æ²¡æœ‰ç›´æ¥ç”¨Function.prototype.applyï¼Œè€Œæ˜¯åœ¨å‚æ•°è¾ƒå°‘(1-3)ä¸ªæ—¶é‡‡ç”¨callçš„æ–¹å¼è°ƒç”¨(å› ä¸ºlodashé‡Œé¢æ²¡æœ‰è¶…è¿‡4ä¸ªå‚æ•°çš„æ–¹æ³•ï¼ŒPSå¦‚æœä¸€ä¸ªå‡½æ•°çš„è®¾è®¡è¶…è¿‡4ä¸ªå…¥å‚ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±è¦è€ƒè™‘é‡æ„äº†)
REFER: https://github.com/noneven/__/issues/6

2019-04-06

> ç¬¬ 47 é¢˜ï¼šåŒå‘ç»‘å®šå’Œ vuex æ˜¯å¦å†²çª

 A:

æ²¡æœ‰å¥½å¥½çœ‹å®˜ç½‘ï¼š
REFER: https://vuex.vuejs.org/zh/guide/forms.html

```js
const store = new Vuex.Store({
  // ...
  strict: true
})

// - åˆ©ç”¨vuexçš„æ€ç»´å»è§£å†³ã€‚è¿˜æ˜¯é€šè¿‡ commit å»ä¿®æ”¹å˜é‡çš„å€¼

<input v-model="message">

// ...
computed: {
  message: {
    get () {
      return this.$store.state.obj.message
    },
    set (value) {
      this.$store.commit('updateMessage', value)
    }
  }
}
```

åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ— è®ºä½•æ—¶å‘ç”Ÿäº†çŠ¶æ€å˜æ›´ä¸”ä¸æ˜¯ç”± `mutation` å‡½æ•°å¼•èµ·çš„ï¼Œå°†ä¼šæŠ›å‡ºé”™è¯¯ã€‚è¿™èƒ½ä¿è¯æ‰€æœ‰çš„çŠ¶æ€å˜æ›´éƒ½èƒ½è¢«è°ƒè¯•å·¥å…·è·Ÿè¸ªåˆ°

2019-04-05

> ç¬¬ 46 é¢˜ï¼šè¾“å‡ºä»¥ä¸‹ä»£ç æ‰§è¡Œçš„ç»“æœå¹¶è§£é‡Šä¸ºä»€ä¹ˆ

```js
var obj = {
    '2': 3,
    '3': 4,
    'length': 2,
    'splice': Array.prototype.splice,
    'push': Array.prototype.push
}
obj.push(1)
obj.push(2)
console.log(obj)
```

 A:

```js
ç»“æœï¼š[,,1,2], lengthä¸º4
ä¼ªæ•°ç»„ï¼ˆArrayLikeï¼‰
```

 TIP: -
åœ¨`å¯¹è±¡`ä¸­åŠ å…¥`splice`å±æ€§æ–¹æ³•ï¼Œå’Œ`length`å±æ€§åã€‚è¿™ä¸ªå¯¹è±¡å˜æˆä¸€ä¸ªç±»æ•°ç»„ã€‚

> pushæ–¹æ³•å°†å€¼è¿½åŠ åˆ°æ•°ç»„ä¸­ã€‚push æ–¹æ³•æœ‰æ„å…·æœ‰é€šç”¨æ€§ã€‚è¯¥æ–¹æ³•å’Œ call() æˆ– apply() ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå¯åº”ç”¨åœ¨ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ä¸Šã€‚push æ–¹æ³•æ ¹æ® length å±æ€§æ¥å†³å®šä»å“ªé‡Œå¼€å§‹æ’å…¥ç»™å®šçš„å€¼ã€‚å¦‚æœ length ä¸èƒ½è¢«è½¬æˆä¸€ä¸ªæ•°å€¼ï¼Œåˆ™æ’å…¥çš„å…ƒç´ ç´¢å¼•ä¸º 0ï¼ŒåŒ…æ‹¬ length ä¸å­˜åœ¨æ—¶ã€‚å½“ length ä¸å­˜åœ¨æ—¶ï¼Œå°†ä¼šåˆ›å»ºå®ƒã€‚
> å¯¹è±¡è½¬æ•°ç»„çš„æ–¹å¼ï¼š Array.from()ã€splice()ã€concat()ç­‰

å¦å¤–ï¼Œæœ‰ splice å’Œæ²¡æœ‰ splice ä¸¤è€…çš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ã€‚

```js ä¸åŒ…å«splice
var obj = {
    '2': 3,
    '3': 4,
    'length': 2,
    'push': Array.prototype.push
}
obj.push(11)
obj.push(33)
console.log(obj)

// {2: 11, 3: 33, length: 4, push: Æ’}
// ä¾æ—§è¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚æ²¡æœ‰å˜æˆä¸€ä¸ªç±»æ•°ç»„
```

ä¸‹é¢æ˜¯chromeæµè§ˆå™¨åˆ¤æ–­å¯¹è±¡æ˜¯ä¸æ˜¯ `ç±»æ•°ç»„` æ—¶çš„æ£€æµ‹æ–¹æ³•

```js ChromeDevTools
    /**
     * @param {?Object} obj
     * @return {boolean}
     */
    function isArrayLike(obj) {
      if (!obj || typeof obj !== 'object')
        return false;
      try {
        if (typeof obj.splice === 'function') {  <----- ğŸ˜‚
          const len = obj.length;
          return typeof len === 'number' && (len >>> 0 === len && (len > 0 || 1 / len > 0));
        }
      } catch (e) {
      }
      return false;
    }
```

2019-03-29

> ç¬¬ 44 é¢˜ï¼šä»‹ç» HTTPS æ¡æ‰‹è¿‡ç¨‹

 A:
ä¸‰æ¬¡æ¡æ‰‹

2019-03-28

> ç¬¬ 43 é¢˜ï¼šä½¿ç”¨ sort() å¯¹æ•°ç»„ [3, 15, 8, 29, 102, 22] è¿›è¡Œæ’åºï¼Œè¾“å‡ºç»“æœ

 A:
è¿˜æ˜¯æœ‰ç‚¹åŒºåˆ«

```js
let a =  [3, 15, 8, 29, 102, 22]

a.sort() // [ 102, 15, 22, 29, 3, 8 ]

a.sort((a, b) => a - b) // [ 3, 8, 15, 22, 29, 102 ]
```

 TIP:  -
è‹¥ a å°äº bï¼Œåœ¨æ’åºåçš„æ•°ç»„ä¸­ a åº”è¯¥å‡ºç°åœ¨ b ä¹‹å‰ï¼Œåˆ™è¿”å›ä¸€ä¸ªå°äº 0 çš„å€¼ã€‚
è‹¥ a ç­‰äº bï¼Œåˆ™è¿”å› 0ã€‚
è‹¥ a å¤§äº bï¼Œåˆ™è¿”å›ä¸€ä¸ªå¤§äº 0 çš„å€¼

2019-03-27

> ç¬¬ 42 é¢˜ï¼šå®ç°ä¸€ä¸ª sleep å‡½æ•°ï¼Œæ¯”å¦‚ sleep(1000) æ„å‘³ç€ç­‰å¾…1000æ¯«ç§’ï¼Œå¯ä» Promiseã€Generatorã€Async/Await ç­‰è§’åº¦å®ç°

**è§£ç­”**
æ–¹æ³•å¤šç§

```js
function _sleep (wait) {
  return new Promise(resolve => setTimeout(resolve, wait * 1000))
}

async function sleep (wait) {
  await _sleep(wait)
  console.log(1)
}

function* sleepGenerator (time) {
  yield new Promise((resolve, reject) => setTimeout(resolve, time))
}
sleepGenerator(2000).next().value.then(() => {console.log(1)})
// ES5
function sleep(cb, time) {
  if (typeof cb === 'function') {
    setTimeout(cb, time)
  }
}
sleep(() => console.log(1), 2000)
```

 TIP: -
Generatorè¯­æ³•ç³–å¾ˆæœ‰æ„æ€

2019-03-26

> ç¬¬ 41 é¢˜ï¼šä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆ

```js
var a = 10;
(function () {
    console.log(a)
    a = 5
    console.log(window.a)
    var a = 20;
    console.log(a)
})()
```

 A:
ä¾æ¬¡è¾“å‡ºï¼šundefined -> 10 -> 20

è§£æï¼š

åœ¨ç«‹å³æ‰§è¡Œå‡½æ•°ä¸­ï¼Œvar a = 20; è¯­å¥å®šä¹‰äº†ä¸€ä¸ªå±€éƒ¨å˜é‡ aï¼Œç”±äºjsçš„å˜é‡å£°æ˜æå‡æœºåˆ¶ï¼Œå±€éƒ¨å˜é‡açš„å£°æ˜ä¼šè¢«æå‡è‡³ç«‹å³æ‰§è¡Œå‡½æ•°çš„å‡½æ•°ä½“æœ€ä¸Šæ–¹ï¼Œä¸”ç”±äºè¿™æ ·çš„æå‡å¹¶ä¸åŒ…æ‹¬èµ‹å€¼ï¼Œå› æ­¤ç¬¬ä¸€æ¡æ‰“å°è¯­å¥ä¼šæ‰“å°undefinedï¼Œæœ€åä¸€æ¡è¯­å¥ä¼šæ‰“å°20ã€‚

ç”±äºå˜é‡å£°æ˜æå‡ï¼Œa = 5; è¿™æ¡è¯­å¥æ‰§è¡Œæ—¶ï¼Œå±€éƒ¨çš„å˜é‡aå·²ç»å£°æ˜ï¼Œå› æ­¤å®ƒäº§ç”Ÿçš„æ•ˆæœæ˜¯å¯¹å±€éƒ¨çš„å˜é‡aèµ‹å€¼ï¼Œæ­¤æ—¶window.a ä¾æ—§æ˜¯æœ€å¼€å§‹èµ‹å€¼çš„10ï¼Œ

2019-03-25

> ç¬¬ 40 é¢˜ï¼šåœ¨ Vue ä¸­ï¼Œå­ç»„ä»¶ä¸ºä½•ä¸å¯ä»¥ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ é€’çš„ Propï¼Œå¦‚æœä¿®æ”¹äº†ï¼ŒVue æ˜¯å¦‚ä½•ç›‘æ§åˆ°å±æ€§çš„ä¿®æ”¹å¹¶ç»™å‡ºè­¦å‘Šçš„ã€‚

 A:

1. å­ç»„ä»¶ä¸ºä½•ä¸å¯ä»¥ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ é€’çš„ Prop
  å•å‘æ•°æ®æµï¼Œæ˜“äºç›‘æµ‹æ•°æ®çš„æµåŠ¨ï¼Œå‡ºç°äº†é”™è¯¯å¯ä»¥æ›´åŠ è¿…é€Ÿçš„å®šä½åˆ°é”™è¯¯å‘ç”Ÿçš„ä½ç½®
2. å¦‚æœä¿®æ”¹äº†ï¼ŒVue æ˜¯å¦‚ä½•ç›‘æ§åˆ°å±æ€§çš„ä¿®æ”¹å¹¶ç»™å‡ºè­¦å‘Šçš„ã€‚

```js
if (process.env.NODE_ENV !== 'production') {
      var hyphenatedKey = hyphenate(key);
      if (isReservedAttribute(hyphenatedKey) ||
          config.isReservedAttr(hyphenatedKey)) {
        warn(
          ("\"" + hyphenatedKey + "\" is a reserved attribute and cannot be used as component prop."),
          vm
        );
      }
      defineReactive$$1(props, key, value, function () {
        if (!isRoot && !isUpdatingChildComponent) {
          warn(
            "Avoid mutating a prop directly since the value will be " +
            "overwritten whenever the parent component re-renders. " +
            "Instead, use a data or computed property based on the prop's " +
            "value. Prop being mutated: \"" + key + "\"",
            vm
          );
        }
      });
    }
```

åœ¨initPropsçš„æ—¶å€™ï¼Œåœ¨defineReactiveæ—¶é€šè¿‡åˆ¤æ–­æ˜¯å¦åœ¨å¼€å‘ç¯å¢ƒï¼Œå¦‚æœæ˜¯å¼€å‘ç¯å¢ƒï¼Œä¼šåœ¨è§¦å‘setçš„æ—¶å€™åˆ¤æ–­æ˜¯å¦æ­¤keyæ˜¯å¦å¤„äºupdatingChildrenä¸­è¢«ä¿®æ”¹ï¼Œå¦‚æœä¸æ˜¯ï¼Œè¯´æ˜æ­¤ä¿®æ”¹æ¥è‡ªå­ç»„ä»¶ï¼Œè§¦å‘warningæç¤ºã€‚
> éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå½“ä½ ä»å­ç»„ä»¶ä¿®æ”¹çš„propå±äºåŸºç¡€ç±»å‹æ—¶ä¼šè§¦å‘æç¤ºã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œä½ æ˜¯æ— æ³•ä¿®æ”¹çˆ¶ç»„ä»¶çš„æ•°æ®æºçš„ï¼Œ å› ä¸ºåŸºç¡€ç±»å‹èµ‹å€¼æ—¶æ˜¯å€¼æ‹·è´ã€‚ä½ ç›´æ¥å°†å¦ä¸€ä¸ªéåŸºç¡€ç±»å‹ï¼ˆObject, arrayï¼‰èµ‹å€¼åˆ°æ­¤keyæ—¶ä¹Ÿä¼šè§¦å‘æç¤º(ä½†å®é™…ä¸Šä¸ä¼šå½±å“çˆ¶ç»„ä»¶çš„æ•°æ®æº)ï¼Œ å½“ä½ ä¿®æ”¹objectçš„å±æ€§æ—¶ä¸ä¼šè§¦å‘æç¤ºï¼Œå¹¶ä¸”ä¼šä¿®æ”¹çˆ¶ç»„ä»¶æ•°æ®æºçš„æ•°æ®ã€‚

2019-03-24

> ç¬¬ 39 é¢˜ï¼šä»‹ç»ä¸‹ BFC åŠå…¶åº”ç”¨ã€‚

 A:
BFC å°±æ˜¯å—çº§æ ¼å¼ä¸Šä¸‹æ–‡ï¼Œæ˜¯é¡µé¢ç›’æ¨¡å‹å¸ƒå±€ä¸­çš„ä¸€ç§ CSS æ¸²æŸ“æ¨¡å¼ï¼Œç›¸å½“äºä¸€ä¸ªç‹¬ç«‹çš„å®¹å™¨ï¼Œé‡Œé¢çš„å…ƒç´ å’Œå¤–éƒ¨çš„å…ƒç´ ç›¸äº’ä¸å½±å“ã€‚åˆ›å»º BFC çš„æ–¹å¼æœ‰ï¼š

html æ ¹å…ƒç´ 
float æµ®åŠ¨
ç»å¯¹å®šä½
overflow ä¸ä¸º visiable
display ä¸ºè¡¨æ ¼å¸ƒå±€æˆ–è€…å¼¹æ€§å¸ƒå±€
è¡Œå†…å—å…ƒç´ ã€ç½‘æ ¼å¸ƒå±€ã€containå€¼ä¸ºlayoutã€contentæˆ– strictçš„å…ƒç´ ç­‰ã€‚

BFC ä¸»è¦çš„ä½œç”¨æ˜¯ï¼š

æ¸…é™¤æµ®åŠ¨
é˜²æ­¢åŒä¸€ BFC å®¹å™¨ä¸­çš„ç›¸é‚»å…ƒç´ é—´çš„å¤–è¾¹è·é‡å é—®é¢˜

2019-03-21

```js
var a = {
  _a: 0,
  toString () {
    return ++this._a
  }
}
// or
let a = {
  m: 0,
  valueOf () {
    return ++this.n
  }
}
```

2019-03-20

> ç¬¬ 37 é¢˜ï¼šä¸ºä»€ä¹ˆ Vuex çš„ mutation å’Œ Redux çš„ reducer ä¸­ä¸èƒ½åšå¼‚æ­¥æ“ä½œï¼Ÿ

* é¦–å…ˆè¦æ˜ç™½ä¸€ç‚¹ï¼Œ`mutation`è¿˜æ˜¯`reducer`éƒ½æ˜¯å¤„ç†åŒæ­¥äº‹åŠ¡ã€‚åŒæ­¥çš„æ„ä¹‰åœ¨äºè¿™æ ·æ¯ä¸€ä¸ª`mutation`æ‰§è¡Œå®Œåéƒ½å¯ä»¥å¯¹åº”åˆ°ä¸€ä¸ªæ–°çš„çŠ¶æ€
* å…¶æ¬¡ï¼Œåœ¨`mutation`ä¸­æ··åˆå¼‚æ­¥è°ƒç”¨ä¼šå¯¼è‡´ç¨‹åºå¾ˆéš¾è°ƒè¯•ã€‚å½“ä½ è°ƒç”¨äº†ä¸¤ä¸ªåŒ…å«å¼‚æ­¥å›è°ƒçš„ mutation æ¥æ”¹å˜çŠ¶æ€ï¼Œä½ æ€ä¹ˆçŸ¥é“ä»€ä¹ˆæ—¶å€™å›è°ƒå’Œå“ªä¸ªå…ˆå›è°ƒå‘¢

```js
store.commit('increment')
// ä»»ä½•ç”± "increment" å¯¼è‡´çš„çŠ¶æ€å˜æ›´éƒ½åº”è¯¥åœ¨æ­¤åˆ»å®Œæˆã€‚
```

2019-03-19

> ç¬¬ 36 é¢˜ï¼šä½¿ç”¨è¿­ä»£çš„æ–¹å¼å®ç° flatten å‡½æ•°ã€‚

```js
const flatten = arr =>
  arr.reduce((pre, cur) => Array.isArray(cur) ? pre.concat(flatten(cur)) : pre.concat(cur), [])
// or
const flatten = arr =>
  arr.reduce((pre, cur) => Array.isArray(cur) ? [...pre, ...flaten(cur)] : [...pre, cur], [])
// genereate
function* flat (arr) {
  for (let item of arr) {
    if (Array.isArray(item)) {
      yield* flat(item) // Generator å§”æ‰˜ã€‚å¿…é¡»è¦æœ‰ *
    } else {
      yield item
    }
  }
}
function flatten (arr) {
  let result = []
  for (let val of flat(arr)) {
    result.push(val)
  }
  return result
}
```

// TIP:  å–„ç”¨`ES6`è¯­æ³•

2019-03-18

> ç¬¬ 35 é¢˜ï¼šæµè§ˆå™¨ç¼“å­˜å¯ä»¥åˆ†æˆ Service Workerã€Memory Cacheã€Disk Cache å’Œ Push Cacheï¼Œé‚£è¯·æ±‚çš„æ—¶å€™ from memory cache å’Œ from disk cache çš„ä¾æ®æ˜¯ä»€ä¹ˆï¼Œå“ªäº›æ•°æ®ä»€ä¹ˆæ—¶å€™å­˜æ”¾åœ¨ Memory Cache å’Œ Disk Cacheä¸­ï¼Ÿ

[è¿™ç¯‡æ–‡ç« å¾ˆè¯¦ç»†](https://www.jianshu.com/p/54cc04190252)
and

* from memory cacheï¼šå­—é¢ç†è§£æ˜¯ä»å†…å­˜ä¸­ï¼Œå…¶å®ä¹Ÿæ˜¯å­—é¢çš„å«ä¹‰ï¼Œè¿™ä¸ªèµ„æºæ˜¯ç›´æ¥ä»å†…å­˜ä¸­æ‹¿åˆ°çš„ï¼Œä¸ä¼šè¯·æ±‚æœåŠ¡å™¨ä¸€èˆ¬å·²ç»åŠ è½½è¿‡è¯¥èµ„æºä¸”ç¼“å­˜åœ¨äº†å†…å­˜å½“ä¸­ï¼Œå½“å…³é—­è¯¥é¡µé¢æ—¶ï¼Œæ­¤èµ„æºå°±è¢«å†…å­˜é‡Šæ”¾æ‰äº†ï¼Œå†æ¬¡é‡æ–°æ‰“å¼€ç›¸åŒé¡µé¢æ—¶ä¸ä¼šå‡ºç°from memory cacheçš„æƒ…å†µ
* from disk cacheï¼šåŒä¸Šç±»ä¼¼ï¼Œæ­¤èµ„æºæ˜¯ä»ç£ç›˜å½“ä¸­å–å‡ºçš„ï¼Œä¹Ÿæ˜¯åœ¨å·²ç»åœ¨ä¹‹å‰çš„æŸä¸ªæ—¶é—´åŠ è½½è¿‡è¯¥èµ„æºï¼Œä¸ä¼šè¯·æ±‚æœåŠ¡å™¨ä½†æ˜¯æ­¤èµ„æºä¸ä¼šéšç€è¯¥é¡µé¢çš„å…³é—­è€Œé‡Šæ”¾æ‰ï¼Œå› ä¸ºæ˜¯å­˜åœ¨ç¡¬ç›˜å½“ä¸­çš„ï¼Œä¸‹æ¬¡æ‰“å¼€ä»ä¼šfrom disk cache
* form memory cacheï¼šä¸è¯·æ±‚ç½‘ç»œèµ„æºï¼Œèµ„æºåœ¨å†…å­˜å½“ä¸­ï¼Œä¸€èˆ¬`è„šæœ¬ã€å­—ä½“ã€å›¾ç‰‡`ä¼šå­˜åœ¨å†…å­˜å½“ä¸­
* form disk cecheï¼šä¸è¯·æ±‚ç½‘ç»œèµ„æºï¼Œåœ¨ç£ç›˜å½“ä¸­ï¼Œä¸€èˆ¬éè„šæœ¬ä¼šå­˜åœ¨å†…å­˜å½“ä¸­ï¼Œå¦‚`css`ç­‰

// TIP:  è¿™é¢˜æ˜¯çœŸçš„ä¸çŸ¥é“ã€‚æœ‰ç‚¹éš¾

> ç¬¬ 34 é¢˜ï¼šç®€å•æ”¹é€ ä¸‹é¢çš„ä»£ç ï¼Œä½¿ä¹‹åˆ†åˆ«æ‰“å° 10 å’Œ 20ã€‚

```js
var b = 10;
(function b(){
    b = 20;
    console.log(b);
})();
```

2019-03-16

> ç¬¬ 33 é¢˜ï¼šä¸‹é¢çš„ä»£ç æ‰“å°ä»€ä¹ˆå†…å®¹ï¼Œä¸ºä»€ä¹ˆï¼Ÿ

```js
var b = 10;
(function b(){
    b = 20;
    console.log(b);
})();
```

// TELL:  ç½‘å‹çš„å›ç­”
1æ‰“å°ç»“æœå†…å®¹å¦‚ä¸‹ï¼š
Æ’ b() {
b = 20;
console.log(b)
}
2åŸå› ï¼š
ä½œç”¨åŸŸï¼šæ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åŒ…å«ä½œç”¨äºé“¾ï¼š
åœ¨ç†è§£ä½œç”¨åŸŸé“¾ä¹‹å‰ï¼Œå…ˆä»‹ç»ä¸€ä¸‹ä½œç”¨åŸŸï¼Œä½œç”¨åŸŸå¯ä»¥ç†è§£ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ç”³æ˜çš„å˜é‡å’Œä½œç”¨çš„èŒƒå›´ï¼›åŒ…æ‹¬å—çº§ä½œç”¨åŸŸ/å‡½æ•°ä½œç”¨åŸŸï¼›
ç‰¹æ€§ï¼šå£°æ˜æå‰ï¼šä¸€ä¸ªå£°æ˜åœ¨å‡½æ•°ä½“å†…éƒ½æ˜¯å¯è§çš„ï¼Œå‡½æ•°å£°æ˜ä¼˜å…ˆäºå˜é‡å£°æ˜ï¼›
åœ¨éåŒ¿åè‡ªæ‰§è¡Œå‡½æ•°ä¸­ï¼Œå‡½æ•°å˜é‡ä¸ºåªè¯»çŠ¶æ€æ— æ³•ä¿®æ”¹ï¼›

// å¦ä¸€ä¸ªæ›´å¥½çš„ä¾‹å­

```js
var b = 10;
(function b() {
   // å†…éƒ¨ä½œç”¨åŸŸï¼Œä¼šå…ˆå»æŸ¥æ‰¾æ˜¯æœ‰å·²æœ‰å˜é‡bçš„å£°æ˜ï¼Œæœ‰å°±ç›´æ¥èµ‹å€¼20ï¼Œç¡®å®æœ‰äº†å‘€ã€‚å‘ç°äº†å…·åå‡½æ•° function b(){}ï¼Œæ‹¿æ­¤båšèµ‹å€¼ï¼›
   // NOTE: IIFEçš„å‡½æ•°æ— æ³•è¿›è¡Œèµ‹å€¼ï¼ˆå†…éƒ¨æœºåˆ¶ï¼Œç±»ä¼¼constå®šä¹‰çš„å¸¸é‡ï¼‰ï¼Œæ‰€ä»¥æ— æ•ˆã€‚
  // ï¼ˆè¿™é‡Œè¯´çš„â€œå†…éƒ¨æœºåˆ¶â€ï¼Œæƒ³ææ¸…æ¥šï¼Œéœ€è¦å»æŸ¥é˜…ä¸€äº›èµ„æ–™ï¼Œå¼„æ˜ç™½IIFEåœ¨JSå¼•æ“çš„å·¥ä½œæ–¹å¼ï¼Œå †æ ˆå­˜å‚¨IIFEçš„æ–¹å¼ç­‰ï¼‰
    b = 20;
    console.log(b); // [Function b]
    console.log(window.b); // 10ï¼Œä¸æ˜¯20
})();

var b = 10;
(function b() {
  'use strict' // æ³¨æ„
  b = 20;
  console.log(b)
})() // "Uncaught TypeError: Assignment to constant variable."

var b = 10;
(function b() {
    window.b = 20; // NOTE:  æœ‰window
    console.log(b); // [Function b]
    console.log(window.b); // 20æ˜¯å¿…ç„¶çš„
})();

var b = 10;
(function b() {
    var b = 20; // IIFEå†…éƒ¨å˜é‡
    console.log(b); // 20
   console.log(window.b); // 10
})();
```

IIFEä¼šåˆ›å»ºä¸€ä¸ªå—çº§ä½œç”¨åŸŸï¼Œ
æ ¹æ®ä½œç”¨åŸŸé“¾çš„çŸ¥è¯†ï¼Œå½“å‡ºç°åŒåçš„å˜é‡çš„æ—¶å€™ï¼Œä¼šä¼˜å…ˆè®¿é—®æ›´"è¿‘"çš„å˜é‡
åœ¨é¢˜ç›®ä¸­çš„IIFEé‡Œé¢b=20å…¶å®è®¿é—®çš„æ˜¯windowä¸‹çš„bå˜é‡ï¼Œ
æ‰€ä»¥IIFEä¸­å…¶å®æ²¡æœ‰bå˜é‡ï¼Œ
é‚£ä¹ˆæœ€è¿‘çš„bå˜é‡å°±æ˜¯è¿™ä¸ªå‡½æ•°ã€‚

// TIP: é‡ç‚¹æ˜¯ï¼šéåŒ¿åè‡ªæ‰§è¡Œå‡½æ•°ï¼Œå‡½æ•°ååªè¯»ã€‚

2019-03-15

> ç¬¬ 32 é¢˜ï¼šVirtual DOM çœŸçš„æ¯”æ“ä½œåŸç”Ÿ DOM å¿«å—ï¼Ÿè°ˆè°ˆä½ çš„æƒ³æ³•ã€‚

// TODO: æœ‰ç‚¹éš¾

2019-03-14

> ç¬¬ 31 é¢˜ï¼šæ”¹é€ ä¸‹é¢çš„ä»£ç ï¼Œä½¿ä¹‹è¾“å‡º0 - 9ï¼Œå†™å‡ºä½ èƒ½æƒ³åˆ°çš„æ‰€æœ‰è§£æ³•ã€‚

```js Q
for (var i = 0; i< 10; i++){
  setTimeout(() => {
    console.log(i);
  }, 1000)
}
```

```js A
// 1. ä½¿ç”¨let

// 2. ä½¿ç”¨é—­åŒ…
for (var i = 0; i < 10; i++) {
  (function(j) {
    setTimeout(() => console.log(j), 1000)
  })(i)
}

for (var i = 0; i < 10; i++) {
  setTimeout(((j) => console.log(j))(i), 1000)
}
```

2019-03-13

> ç¬¬ 30 é¢˜ï¼šä¸¤ä¸ªæ•°ç»„åˆå¹¶æˆä¸€ä¸ªæ•°ç»„

```js Q
è¯·æŠŠä¸¤ä¸ªæ•°ç»„ ['A1', 'A2', 'B1', 'B2', 'C1', 'C2', 'D1', 'D2'] å’Œ ['A', 'B', 'C', 'D']ï¼Œåˆå¹¶ä¸º ['A1', 'A2', 'A', 'B1', 'B2', 'B', 'C1', 'C2', 'C', 'D1', 'D2', 'D']ã€‚
```

```js A
let a = ['A1', 'A2', 'B1', 'B2', 'C1', 'C2', 'D1', 'D2']
let b =  ['A', 'B', 'C', 'D']

let c = b.map(item => item + 3)
console.log(c)

console.log(
  [...a, ...c].sort().map(item => {
    if (item.includes('3')) {
      return item.split('')[0]
    }
    return item
  })
)
```

// TIP: æ€è·¯çœŸæ–°å¥‡å•Š

```js æ£’
let a = ['A1', 'A2', 'B1', 'B2', 'C1', 'C2', 'D1', 'D2']
let b =  ['A', 'B', 'C', 'D']

console.log(
  b.forEach((item, index) => {
    a.splice((index + 1) * 2 + index, 0, item)
  }),
  a
)
```

// TIP:  åé¢çš„é‚£ä¸ª `+ index` çœŸçš„æ„æƒ³ä¸åˆ°

```js éƒ½æ˜¯å¤§ç‰›å•Š
let arr1 = ["A1", "A2", "B1", "B2", "C1", "C2", "D1", "D2"];
let arr2 = ["A", "B", "C", "D"];
console.log(
  [...arr1, ...arr2]
    .sort(
      (v2, v1) => (
        v2.codePointAt(0) - v1.codePointAt(0) ||
        v1.length - v2.length ||
        v2.codePointAt(1) - v1.codePointAt(1)
      )
    )
);
```

```js me
let a = ['A1', 'A2', 'B1', 'B2', 'C1', 'C2', 'D1', 'D2']
let b =  ['A', 'B', 'C', 'D']

let ret = []
b.forEach((item, index) => {
  ret = ret.concat(a.slice(index * 2, (index + 1) * 2))
  ret.push(item)
})

b.reduce((pre, cur, index) => [...pre, ...a.slice(index * 2, (index + 1) * 2), cur]
, [])
```

```js è¿™ä¸ªä¹Ÿå¾ˆä¼˜ç§€ï¼Œå¯ä»¥è§£å†³ä¸€ç±»çš„é—®é¢˜
b.reduce((pre, cur) => [...pre, ...a.filter(item => item.startsWith(cur)), cur], [])
```

// TIP: å·§å¦™çš„ä½¿ç”¨äº† `filter` å’Œ `startsWith`ã€‚å¾ˆæ£’

2019-03-12

> ç¬¬ 29 é¢˜ï¼šèŠèŠ Vue çš„åŒå‘æ•°æ®ç»‘å®šï¼ŒModel å¦‚ä½•æ”¹å˜ Viewï¼ŒView åˆæ˜¯å¦‚ä½•æ”¹å˜ Model çš„

2019-03-11

> ç¬¬ 28 é¢˜ï¼šcookie å’Œ token éƒ½å­˜æ”¾åœ¨ header ä¸­ï¼Œä¸ºä»€ä¹ˆä¸ä¼šåŠ«æŒ tokenï¼Ÿ

**è§£ç­”**
cookie
ä¸¾ä¾‹ï¼šæœåŠ¡å‘˜çœ‹ä½ çš„èº«ä»½è¯ï¼Œç»™ä½ ä¸€ä¸ªç¼–å·ï¼Œä»¥åï¼Œè¿›è¡Œä»»ä½•æ“ä½œï¼Œéƒ½å‡ºç¤ºç¼–å·åæœåŠ¡å‘˜å»çœ‹æŸ¥ä½ æ˜¯è°ã€‚

token
ä¸¾ä¾‹ï¼šç›´æ¥ç»™æœåŠ¡å‘˜çœ‹è‡ªå·±èº«ä»½è¯

```js
1 æ”»å‡»è€…é€šè¿‡xssæ‹¿åˆ°ç”¨æˆ·çš„cookieç„¶åå°±å¯ä»¥ä¼ªé€ cookieäº†ã€‚
2 æˆ–è€…é€šè¿‡csrfåœ¨åŒä¸ªæµè§ˆå™¨ä¸‹é¢é€šè¿‡æµè§ˆå™¨ä¼šè‡ªåŠ¨å¸¦ä¸Šcookieçš„ç‰¹æ€§
  åœ¨é€šè¿‡ ç”¨æˆ·ç½‘ç«™-æ”»å‡»è€…ç½‘ç«™-æ”»å‡»è€…è¯·æ±‚ç”¨æˆ·ç½‘ç«™çš„æ–¹å¼ æµè§ˆå™¨ä¼šè‡ªåŠ¨å¸¦ä¸Šcookie

ä½†æ˜¯token
1 ä¸ä¼šè¢«æµè§ˆå™¨å¸¦ä¸Š é—®é¢˜2 è§£å†³
2 tokenæ˜¯æ”¾åœ¨jwté‡Œé¢ä¸‹å‘ç»™å®¢æˆ·ç«¯çš„ è€Œä¸”ä¸ä¸€å®šå­˜å‚¨åœ¨å“ªé‡Œ ä¸èƒ½é€šè¿‡document.cookieç›´æ¥æ‹¿åˆ°ï¼Œé€šè¿‡jwt+ipçš„æ–¹å¼ å¯ä»¥é˜²æ­¢ è¢«åŠ«æŒ å³ä½¿è¢«åŠ«æŒ ä¹Ÿæ˜¯æ— æ•ˆçš„jwt
```

XSS: å³ä¸ºï¼ˆCross Site Scriptingï¼‰, ä¸­æ–‡åä¸ºè·¨ç«™è„šæœ¬, æ˜¯å‘ç”Ÿåœ¨ç›®æ ‡ç”¨æˆ·çš„æµè§ˆå™¨å±‚é¢ä¸Šçš„ï¼Œå½“æ¸²æŸ“DOMæ ‘çš„è¿‡ç¨‹æˆå‘ç”Ÿäº†ä¸åœ¨é¢„æœŸå†…æ‰§è¡Œçš„JSä»£ç æ—¶ï¼Œå°±å‘ç”Ÿäº†XSSæ”»å‡»ã€‚
è·¨ç«™è„šæœ¬çš„é‡ç‚¹ä¸åœ¨â€˜è·¨ç«™â€™ä¸Šï¼Œè€Œåœ¨äºâ€˜è„šæœ¬â€™ä¸Šã€‚å¤§å¤šæ•°XSSæ”»å‡»çš„ä¸»è¦æ–¹å¼æ˜¯åµŒå…¥ä¸€æ®µè¿œç¨‹æˆ–è€…ç¬¬ä¸‰æ–¹åŸŸä¸Šçš„JSä»£ç ã€‚å®é™…ä¸Šæ˜¯åœ¨ç›®æ ‡ç½‘ç«™çš„ä½œç”¨åŸŸä¸‹æ‰§è¡Œäº†è¿™æ®µjsä»£ç ã€‚

CSRFï¼ˆCross Site Request Forgeryï¼‰ï¼Œä¸­æ–‡æ˜¯è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ã€‚CSRFæ”»å‡»è€…åœ¨ç”¨æˆ·å·²ç»ç™»å½•ç›®æ ‡ç½‘ç«™ä¹‹åï¼Œè¯±ä½¿ç”¨æˆ·è®¿é—®ä¸€ä¸ªæ”»å‡»é¡µé¢ï¼Œåˆ©ç”¨ç›®æ ‡ç½‘ç«™å¯¹ç”¨æˆ·çš„ä¿¡ä»»ï¼Œä»¥ç”¨æˆ·èº«ä»½åœ¨æ”»å‡»é¡µé¢å¯¹ç›®æ ‡ç½‘ç«™å‘èµ·ä¼ªé€ ç”¨æˆ·æ“ä½œçš„è¯·æ±‚ï¼Œè¾¾åˆ°æ”»å‡»ç›®çš„ã€‚

**CSRFæ”»å‡»çš„æœ¬è´¨åŸå› **
CSRFæ”»å‡»æ˜¯æºäº`Webçš„éšå¼èº«ä»½éªŒè¯æœºåˆ¶`ï¼Webçš„èº«ä»½éªŒè¯æœºåˆ¶è™½ç„¶å¯ä»¥ä¿è¯ä¸€ä¸ªè¯·æ±‚æ˜¯æ¥è‡ªäºæŸä¸ªç”¨æˆ·çš„æµè§ˆå™¨ï¼Œä½†å´æ— æ³•ä¿è¯è¯¥è¯·æ±‚æ˜¯ç”¨æˆ·æ‰¹å‡†å‘é€çš„ã€‚CSRFæ”»å‡»çš„ä¸€èˆ¬æ˜¯ç”±æœåŠ¡ç«¯è§£å†³ã€‚

**CSRFå·¥å…·çš„é˜²å¾¡æ‰‹æ®µ**
å°½é‡ä½¿ç”¨POSTï¼Œé™åˆ¶GET
2. æµè§ˆå™¨Cookieç­–ç•¥
3. åŠ éªŒè¯ç 
4. Referer Check
5. Anti CSRF Token
ç°åœ¨ä¸šç•Œå¯¹CSRFçš„é˜²å¾¡ï¼Œä¸€è‡´çš„åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªTokenï¼ˆAnti CSRF Token

1. ç”¨æˆ·è®¿é—®æŸä¸ªè¡¨å•é¡µé¢ã€‚
2. æœåŠ¡ç«¯ç”Ÿæˆä¸€ä¸ªTokenï¼Œæ”¾åœ¨ç”¨æˆ·çš„Sessionä¸­ï¼Œæˆ–è€…æµè§ˆå™¨çš„Cookieä¸­ã€‚
3. åœ¨é¡µé¢è¡¨å•é™„å¸¦ä¸ŠTokenå‚æ•°ã€‚
4. ç”¨æˆ·æäº¤è¯·æ±‚åï¼Œ æœåŠ¡ç«¯éªŒè¯è¡¨å•ä¸­çš„Tokenæ˜¯å¦ä¸ç”¨æˆ·Sessionï¼ˆæˆ–Cookiesï¼‰ä¸­çš„Tokenä¸€è‡´ï¼Œä¸€è‡´ä¸ºåˆæ³•è¯·æ±‚ï¼Œä¸æ˜¯åˆ™éæ³•è¯·æ±‚ã€‚
`CSRFçš„Tokenä»…ä»…ç”¨äºå¯¹æŠ—CSRFæ”»å‡»`ã€‚å½“ç½‘ç«™åŒæ—¶å­˜åœ¨XSSæ¼æ´æ—¶å€™ï¼Œé‚£è¿™ä¸ªæ–¹æ¡ˆä¹Ÿæ˜¯ç©ºè°ˆã€‚æ‰€ä»¥XSSå¸¦æ¥çš„é—®é¢˜ï¼Œåº”è¯¥ä½¿ç”¨XSSçš„é˜²å¾¡æ–¹æ¡ˆäºˆä»¥è§£å†³ã€‚

---

1ã€é¦–å…ˆtokenä¸æ˜¯é˜²æ­¢XSSçš„ï¼Œè€Œæ˜¯ä¸ºäº†é˜²æ­¢CSRFçš„ï¼›
2ã€CSRFæ”»å‡»çš„åŸå› æ˜¯æµè§ˆå™¨ä¼šè‡ªåŠ¨å¸¦ä¸Šcookieï¼Œè€Œæµè§ˆå™¨ä¸ä¼šè‡ªåŠ¨å¸¦ä¸Štoken

--è¯¥é¢˜ç»ˆç»“--

2019-03-10

> ç¬¬ 27 é¢˜ï¼šå…¨å±€ä½œç”¨åŸŸä¸­ï¼Œç”¨ const å’Œ let å£°æ˜çš„å˜é‡ä¸åœ¨ window ä¸Šï¼Œé‚£åˆ°åº•åœ¨å“ªé‡Œï¼Ÿå¦‚ä½•å»è·å–ï¼Ÿ

**è§£ç­”**
åœ¨ES5ä¸­ï¼Œé¡¶å±‚å¯¹è±¡çš„å±æ€§å’Œå…¨å±€å˜é‡æ˜¯ç­‰ä»·çš„ï¼Œvar å‘½ä»¤å’Œ function å‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œè‡ªç„¶ä¹Ÿæ˜¯é¡¶å±‚å¯¹è±¡ã€‚
ä½†ES6è§„å®šï¼Œvar å‘½ä»¤å’Œ function å‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¾æ—§æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼Œä½† letå‘½ä»¤ã€constå‘½ä»¤ã€classå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¸å±äºé¡¶å±‚å¯¹è±¡çš„å±æ€§ã€‚
é€šè¿‡åœ¨è®¾ç½®æ–­ç‚¹ï¼Œçœ‹çœ‹æµè§ˆå™¨æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼š
é€šè¿‡ä¸Šå›¾ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œç”¨ let å’Œ const å£°æ˜çš„å…¨å±€å˜é‡å¹¶æ²¡æœ‰åœ¨å…¨å±€å¯¹è±¡ä¸­ï¼Œåªæ˜¯ä¸€ä¸ªå—çº§ä½œç”¨åŸŸï¼ˆScriptï¼‰ä¸­
æ€ä¹ˆè·å–ï¼Ÿ`åœ¨å®šä¹‰å˜é‡çš„å—çº§ä½œç”¨åŸŸä¸­å°±èƒ½è·å–å•Š`ï¼Œæ—¢ç„¶ä¸å±äºé¡¶å±‚å¯¹è±¡ï¼Œé‚£å°±ä¸åŠ  windowï¼ˆglobalï¼‰å‘—ã€‚

2019-03-09

> ç¬¬ 26 é¢˜ï¼šä»‹ç»æ¨¡å—åŒ–å‘å±•å†ç¨‹.å¯ä»IIFEã€AMDã€CMDã€CommonJSã€UMDã€webpack(require.ensure)ã€ES Moduleã€<script type="module"> è¿™å‡ ä¸ªè§’åº¦è€ƒè™‘ã€‚

REFER: https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/28

2019-03-08

> ç¬¬ 25 é¢˜ï¼šè¯´è¯´æµè§ˆå™¨å’Œ Node äº‹ä»¶å¾ªç¯çš„åŒºåˆ«

REFER: https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/26

**è§£ç­”**
å…¶ä¸­ä¸€ä¸ªä¸»è¦çš„åŒºåˆ«åœ¨äºæµè§ˆå™¨çš„event loop å’Œnodejsçš„event loop åœ¨å¤„ç†å¼‚æ­¥äº‹ä»¶çš„é¡ºåºæ˜¯ä¸åŒçš„,nodejsä¸­æœ‰micro event;å…¶ä¸­Promiseå±äºmicro event è¯¥å¼‚æ­¥äº‹ä»¶çš„å¤„ç†é¡ºåºå°±å’Œæµè§ˆå™¨ä¸åŒ.nodejs V11.0ä»¥ä¸Š è¿™ä¸¤è€…ä¹‹é—´çš„é¡ºåºå°±ç›¸åŒäº†.

```js
function test () {
   console.log('start')
    setTimeout(() => {
        console.log('children2')
        Promise.resolve().then(() => {console.log('children2-1')})
    }, 0)
    setTimeout(() => {
        console.log('children3')
        Promise.resolve().then(() => {console.log('children3-1')})
    }, 0)
    Promise.resolve().then(() => {console.log('children1')})
    console.log('end')
}

test()

// ä»¥ä¸Šä»£ç åœ¨node11ä»¥ä¸‹ç‰ˆæœ¬çš„æ‰§è¡Œç»“æœ(å…ˆæ‰§è¡Œæ‰€æœ‰çš„å®ä»»åŠ¡ï¼Œå†æ‰§è¡Œå¾®ä»»åŠ¡)
// start
// end
// children1
// children2
// children3
// children2-1
// children3-1

// ä»¥ä¸Šä»£ç åœ¨node11åŠæµè§ˆå™¨çš„æ‰§è¡Œç»“æœ(é¡ºåºæ‰§è¡Œå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡)
// start
// end
// children1
// children2
// children2-1
// children3
// children3-1
```

**æµè§ˆå™¨**
å…³äºå¾®ä»»åŠ¡å’Œå®ä»»åŠ¡åœ¨æµè§ˆå™¨çš„æ‰§è¡Œé¡ºåºæ˜¯è¿™æ ·çš„ï¼š

* æ‰§è¡Œä¸€åªtaskï¼ˆå®ä»»åŠ¡ï¼‰
* æ‰§è¡Œå®Œmicro-taské˜Ÿåˆ— ï¼ˆå¾®ä»»åŠ¡ï¼‰

å¦‚æ­¤å¾ªç¯å¾€å¤ä¸‹å»

**Node**
å¤§ä½“çš„taskï¼ˆå®ä»»åŠ¡ï¼‰æ‰§è¡Œé¡ºåºæ˜¯è¿™æ ·çš„ï¼š

timerså®šæ—¶å™¨ï¼šæœ¬é˜¶æ®µæ‰§è¡Œå·²ç»å®‰æ’çš„ setTimeout() å’Œ setInterval() çš„å›è°ƒå‡½æ•°ã€‚
pending callbackså¾…å®šå›è°ƒï¼šæ‰§è¡Œå»¶è¿Ÿåˆ°ä¸‹ä¸€ä¸ªå¾ªç¯è¿­ä»£çš„ I/O å›è°ƒã€‚
idle, prepareï¼šä»…ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨ã€‚
poll è½®è¯¢ï¼šæ£€ç´¢æ–°çš„ I/O äº‹ä»¶;æ‰§è¡Œä¸ I/O ç›¸å…³çš„å›è°ƒï¼ˆå‡ ä¹æ‰€æœ‰æƒ…å†µä¸‹ï¼Œé™¤äº†å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œå®ƒä»¬ç”±è®¡æ—¶å™¨å’Œ setImmediate() æ’å®šçš„ä¹‹å¤–ï¼‰ï¼Œå…¶ä½™æƒ…å†µ node å°†åœ¨æ­¤å¤„é˜»å¡ã€‚
check æ£€æµ‹ï¼šsetImmediate() å›è°ƒå‡½æ•°åœ¨è¿™é‡Œæ‰§è¡Œã€‚
close callbacks å…³é—­çš„å›è°ƒå‡½æ•°ï¼šä¸€äº›å‡†å¤‡å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œå¦‚ï¼šsocket.on('close', ...)ã€‚

Node 10ä»¥å‰ï¼š

* æ‰§è¡Œå®Œä¸€ä¸ªé˜¶æ®µçš„æ‰€æœ‰ä»»åŠ¡
* æ‰§è¡Œå®ŒnextTické˜Ÿåˆ—é‡Œé¢çš„å†…å®¹
* ç„¶åæ‰§è¡Œå®Œå¾®ä»»åŠ¡é˜Ÿåˆ—çš„å†…å®¹

Node 11ä»¥åï¼š
å’Œæµè§ˆå™¨çš„è¡Œä¸ºç»Ÿä¸€äº†ï¼Œéƒ½æ˜¯æ¯æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡å°±æ‰§è¡Œå®Œå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚

2019-03-07

> ç¬¬ 24 é¢˜ï¼šèŠèŠ Redux å’Œ Vuex çš„è®¾è®¡æ€æƒ³

2019-03-06

REFER:https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/45

> ç¬¬ 23 é¢˜ï¼šä»‹ç»ä¸‹è§‚å¯Ÿè€…æ¨¡å¼å’Œè®¢é˜…-å‘å¸ƒæ¨¡å¼çš„åŒºåˆ«ï¼Œå„è‡ªé€‚ç”¨äºä»€ä¹ˆåœºæ™¯

REFER: https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/25

**è§£ç­”**
è§‚å¯Ÿè€…æ¨¡å¼ä¸­ä¸»ä½“å’Œè§‚å¯Ÿè€…æ˜¯`äº’ç›¸æ„ŸçŸ¥`çš„ï¼Œå‘å¸ƒ-è®¢é˜…æ¨¡å¼æ˜¯å€ŸåŠ©ç¬¬ä¸‰æ–¹æ¥å®ç°è°ƒåº¦çš„ï¼Œå‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´äº’ä¸æ„ŸçŸ¥
[ä»¥å›¾å–èƒœ](https://user-gold-cdn.xitu.io/2017/11/22/15fe1b1f174cd376?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

**å¤§ç™½è¯**
å‘å¸ƒ-è®¢é˜…æ¨¡å¼å°±å¥½åƒæŠ¥ç¤¾ï¼Œ é‚®å±€å’Œä¸ªäººçš„å…³ç³»ï¼ŒæŠ¥çº¸çš„è®¢é˜…å’Œåˆ†å‘æ˜¯ç”±é‚®å±€æ¥å®Œæˆçš„ã€‚æŠ¥ç¤¾åªè´Ÿè´£å°†æŠ¥çº¸å‘é€ç»™é‚®å±€ã€‚
è§‚å¯Ÿè€…æ¨¡å¼å°±å¥½åƒ ä¸ªä½“å¥¶å†œå’Œä¸ªäººçš„å…³ç³»ã€‚å¥¶å†œè´Ÿè´£ç»Ÿè®¡æœ‰å¤šå°‘äººè®¢äº†äº§å“ï¼Œæ‰€ä»¥ä¸ªäººéƒ½ä¼šæœ‰ä¸€ä¸ªç›¸åŒæ‹¿ç‰›å¥¶çš„æ–¹æ³•ã€‚å¥¶å†œæœ‰æ–°å¥¶äº†å°±è´Ÿè´£è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚

**æ€»ç»“**
åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œè§‚å¯Ÿè€…æ˜¯çŸ¥é“Subjectçš„ï¼ŒSubjectä¸€ç›´ä¿æŒå¯¹è§‚å¯Ÿè€…è¿›è¡Œè®°å½•ã€‚ç„¶è€Œï¼Œåœ¨å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­ï¼Œå‘å¸ƒè€…å’Œè®¢é˜…è€…ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ã€‚å®ƒä»¬åªæœ‰é€šè¿‡æ¶ˆæ¯ä»£ç†è¿›è¡Œé€šä¿¡ã€‚

åœ¨å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­ï¼Œç»„ä»¶æ˜¯æ¾æ•£è€¦åˆçš„ï¼Œæ­£å¥½å’Œè§‚å¯Ÿè€…æ¨¡å¼ç›¸åã€‚

è§‚å¯Ÿè€…æ¨¡å¼å¤§å¤šæ•°æ—¶å€™æ˜¯åŒæ­¥çš„ï¼Œæ¯”å¦‚å½“äº‹ä»¶è§¦å‘ï¼ŒSubjectå°±ä¼šå»è°ƒç”¨è§‚å¯Ÿè€…çš„æ–¹æ³•ã€‚è€Œå‘å¸ƒ-è®¢é˜…æ¨¡å¼å¤§å¤šæ•°æ—¶å€™æ˜¯å¼‚æ­¥çš„ï¼ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ã€‚

è§‚å¯Ÿè€… æ¨¡å¼éœ€è¦åœ¨å•ä¸ªåº”ç”¨ç¨‹åºåœ°å€ç©ºé—´ä¸­å®ç°ï¼Œè€Œå‘å¸ƒ-è®¢é˜…æ›´åƒäº¤å‰åº”ç”¨æ¨¡å¼ã€‚

2019-03-05

> ç¬¬ 22 é¢˜ï¼šä»‹ç»ä¸‹é‡ç»˜å’Œå›æµï¼ˆRepaint & Reflowï¼‰ï¼Œä»¥åŠå¦‚ä½•è¿›è¡Œä¼˜åŒ–

REFER: https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/24

**è§£ç­”**
å›æµå¿…å®šä¼šå‘ç”Ÿé‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•å‘å›æµã€‚

ç°ä»£æµè§ˆå™¨å¤§å¤šéƒ½æ˜¯é€šè¿‡é˜Ÿåˆ—æœºåˆ¶æ¥æ‰¹é‡æ›´æ–°å¸ƒå±€ï¼Œæµè§ˆå™¨ä¼šæŠŠä¿®æ”¹æ“ä½œæ”¾åœ¨é˜Ÿåˆ—ä¸­ï¼Œè‡³å°‘ä¸€ä¸ªæµè§ˆå™¨åˆ·æ–°ï¼ˆå³16.6msï¼‰æ‰ä¼šæ¸…ç©ºé˜Ÿåˆ—ï¼Œ
ä½†å½“`ä½ è·å–å¸ƒå±€ä¿¡æ¯çš„æ—¶å€™ï¼Œé˜Ÿåˆ—ä¸­å¯èƒ½æœ‰ä¼šå½±å“è¿™äº›å±æ€§æˆ–æ–¹æ³•è¿”å›å€¼çš„æ“ä½œï¼Œå³ä½¿æ²¡æœ‰ï¼Œæµè§ˆå™¨ä¹Ÿä¼šå¼ºåˆ¶æ¸…ç©ºé˜Ÿåˆ—ï¼Œè§¦å‘å›æµä¸é‡ç»˜æ¥ç¡®ä¿è¿”å›æ­£ç¡®çš„å€¼ã€‚`

* offsetTopã€offsetLeftã€offsetWidthã€offsetHeight
* scrollTopã€scrollLeftã€scrollWidthã€scrollHeight
* clientTopã€clientLeftã€clientWidthã€clientHeight
* widthã€height
* getComputedStyle()
* getBoundingClientRect()

__æ‰€ä»¥ï¼Œ__
æˆ‘ä»¬åº”è¯¥é¿å…é¢‘ç¹çš„ä½¿ç”¨ä¸Šè¿°çš„å±æ€§ï¼Œä»–ä»¬éƒ½ä¼šå¼ºåˆ¶æ¸²æŸ“åˆ·æ–°é˜Ÿåˆ—ã€‚

JavaScript

é¿å…é¢‘ç¹æ“ä½œæ ·å¼ï¼Œæœ€å¥½ä¸€æ¬¡æ€§é‡å†™styleå±æ€§ï¼Œæˆ–è€…å°†æ ·å¼åˆ—è¡¨å®šä¹‰ä¸ºclasså¹¶ä¸€æ¬¡æ€§æ›´æ”¹classå±æ€§ã€‚
é¿å…é¢‘ç¹æ“ä½œDOMï¼Œåˆ›å»ºä¸€ä¸ªdocumentFragmentï¼Œåœ¨å®ƒä¸Šé¢åº”ç”¨æ‰€æœ‰DOMæ“ä½œï¼Œæœ€åå†æŠŠå®ƒæ·»åŠ åˆ°æ–‡æ¡£ä¸­ã€‚
é¿å…é¢‘ç¹è¯»å–ä¼šå¼•å‘å›æµ/é‡ç»˜çš„å±æ€§ï¼Œå¦‚æœç¡®å®éœ€è¦å¤šæ¬¡ä½¿ç”¨ï¼Œå°±ç”¨ä¸€ä¸ªå˜é‡ç¼“å­˜èµ·æ¥ã€‚
å¯¹å…·æœ‰å¤æ‚åŠ¨ç”»çš„å…ƒç´ ä½¿ç”¨ç»å¯¹å®šä½ï¼Œä½¿å®ƒè„±ç¦»æ–‡æ¡£æµï¼Œå¦åˆ™ä¼šå¼•èµ·çˆ¶å…ƒç´ åŠåç»­å…ƒç´ é¢‘ç¹å›æµã€‚

2019-03-04

> ç¬¬ 21 é¢˜ï¼šæœ‰ä»¥ä¸‹ 3 ä¸ªåˆ¤æ–­æ•°ç»„çš„æ–¹æ³•ï¼Œè¯·åˆ†åˆ«ä»‹ç»å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«å’Œä¼˜åŠ£

```js
Object.prototype.toString.call() ã€ instanceof ä»¥åŠ Array.isArray()
```

**è§£ç­”**
Object.prototype.toString.call()
æ¯ä¸€ä¸ªç»§æ‰¿ Object çš„å¯¹è±¡éƒ½æœ‰ toString æ–¹æ³•ï¼Œå¦‚æœ toString æ–¹æ³•æ²¡æœ‰é‡å†™çš„è¯ï¼Œä¼šè¿”å› [Object type]ï¼Œå…¶ä¸­ type ä¸ºå¯¹è±¡çš„ç±»å‹ã€‚ä½†å½“é™¤äº† Object ç±»å‹çš„å¯¹è±¡å¤–ï¼Œå…¶ä»–ç±»å‹ç›´æ¥ä½¿ç”¨ toString æ–¹æ³•æ—¶ï¼Œä¼šç›´æ¥è¿”å›éƒ½æ˜¯å†…å®¹çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨callæˆ–è€…applyæ–¹æ³•æ¥æ”¹å˜toStringæ–¹æ³•çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚

```js
const an = ['Hello','An'];
an.toString(); // "Hello,An"
Object.prototype.toString.call(an); // "[object Array]"
```

è¿™ç§æ–¹æ³•å¯¹äºæ‰€æœ‰åŸºæœ¬çš„æ•°æ®ç±»å‹éƒ½èƒ½è¿›è¡Œåˆ¤æ–­ï¼Œå³ä½¿æ˜¯ null å’Œ undefined ã€‚
Object.prototype.toString.call() å¸¸ç”¨äºåˆ¤æ–­æµè§ˆå™¨å†…ç½®å¯¹è±¡æ—¶ã€‚

instanceof
`instanceof`  çš„å†…éƒ¨æœºåˆ¶æ˜¯é€šè¿‡åˆ¤æ–­å¯¹è±¡çš„åŸå‹é“¾ä¸­æ˜¯ä¸æ˜¯èƒ½æ‰¾åˆ°ç±»å‹çš„ prototypeã€‚
ä½¿ç”¨ instanceofåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„ï¼Œinstanceof ä¼šåˆ¤æ–­è¿™ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šæ˜¯å¦ä¼šæ‰¾åˆ°å¯¹åº”çš„ Array çš„åŸå‹ï¼Œæ‰¾åˆ°è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚

```js
[]  instanceof Array; // true
```

ä½† instanceof åªèƒ½ç”¨æ¥åˆ¤æ–­å¯¹è±¡ç±»å‹ï¼ŒåŸå§‹ç±»å‹ä¸å¯ä»¥ã€‚å¹¶ä¸”æ‰€æœ‰å¯¹è±¡ç±»å‹ instanceof Object éƒ½æ˜¯ trueã€‚

```js
[]  instanceof Object; // true
```

Array.isArray()
ç”¨æ¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„

instanceof ä¸ isArray
å½“æ£€æµ‹Arrayå®ä¾‹æ—¶ï¼ŒArray.isArray ä¼˜äº instanceof ï¼Œå› ä¸º Array.isArray å¯ä»¥æ£€æµ‹å‡º iframes

Array.isArray() ä¸ Object.prototype.toString.call()
`Array.isArray()`æ˜¯ES5æ–°å¢çš„æ–¹æ³•ï¼Œå½“ä¸å­˜åœ¨ `Array.isArray()`ï¼Œå¯ä»¥ç”¨ `Object.prototype.toString.call()` å®ç°ã€‚

```js
if (!Array.isArray) {
  Array.isArray = function(arg) {
    return Object.prototype.toString.call(arg) === '[object Array]';
  };
}
```

2019-03-03

> ç¬¬ 20 é¢˜ï¼šä»‹ç»ä¸‹ npm æ¨¡å—å®‰è£…æœºåˆ¶ï¼Œä¸ºä»€ä¹ˆè¾“å…¥ npm install å°±å¯ä»¥è‡ªåŠ¨å®‰è£…å¯¹åº”çš„æ¨¡å—ï¼Ÿ

REFER: https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/22

**è§£ç­”**
npm æ¨¡å—å®‰è£…æœºåˆ¶ï¼š

* å‘å‡º`npm install`å‘½ä»¤
* æŸ¥è¯¢`node_modules`ç›®å½•ä¹‹ä¸­æ˜¯å¦å·²ç»å­˜åœ¨æŒ‡å®šæ¨¡å—
  * è‹¥å­˜åœ¨ï¼Œä¸å†é‡æ–°å®‰è£…
  * è‹¥ä¸å­˜åœ¨
    * npm å‘ `registry` æŸ¥è¯¢æ¨¡å—å‹ç¼©åŒ…çš„ç½‘å€
    * ä¸‹è½½å‹ç¼©åŒ…ï¼Œå­˜æ”¾åœ¨æ ¹ç›®å½•ä¸‹çš„`.npm`ç›®å½•é‡Œ
    * è§£å‹å‹ç¼©åŒ…åˆ°å½“å‰é¡¹ç›®çš„node_modulesç›®å½•

å®‰è£…æ¨¡å—
è¿™ä¸€æ­¥å°†ä¼šæ›´æ–°å·¥ç¨‹ä¸­çš„ node_modulesï¼Œå¹¶æ‰§è¡Œæ¨¡å—ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼ˆæŒ‰ç…§ preinstallã€installã€postinstall çš„é¡ºåºï¼‰ã€‚

æ‰§è¡Œå·¥ç¨‹è‡ªèº«ç”Ÿå‘½å‘¨æœŸ
å½“å‰ npm å·¥ç¨‹å¦‚æœå®šä¹‰äº†é’©å­æ­¤æ—¶ä¼šè¢«æ‰§è¡Œï¼ˆæŒ‰ç…§ installã€postinstallã€prepublishã€prepare çš„é¡ºåºï¼‰

2019-03-02

> ç¬¬ 19 é¢˜ï¼šReact setState ç¬”è¯•é¢˜ï¼Œä¸‹é¢çš„ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ

```jsx
class Example extends React.Component {
  constructor() {
    super();
    this.state = {
      val: 0
    };
  }

  componentDidMount() {
    this.setState({val: this.state.val + 1});
    console.log(this.state.val);    // ç¬¬ 1 æ¬¡ log

    this.setState({val: this.state.val + 1});
    console.log(this.state.val);    // ç¬¬ 2 æ¬¡ log

    setTimeout(() => {
      this.setState({val: this.state.val + 1});
      console.log(this.state.val);  // ç¬¬ 3 æ¬¡ log

      this.setState({val: this.state.val + 1});
      console.log(this.state.val);  // ç¬¬ 4 æ¬¡ log
    }, 0);
  }

  render() {
    return null;
  }
};
```

**è§£ç­”**
1ã€ç¬¬ä¸€æ¬¡å’Œç¬¬äºŒæ¬¡éƒ½æ˜¯åœ¨ react è‡ªèº«ç”Ÿå‘½å‘¨æœŸå†…ï¼Œè§¦å‘æ—¶ isBatchingUpdates ä¸º trueï¼Œæ‰€ä»¥å¹¶ä¸ä¼šç›´æ¥æ‰§è¡Œæ›´æ–° stateï¼Œè€Œæ˜¯åŠ å…¥äº† dirtyComponentsï¼Œæ‰€ä»¥æ‰“å°æ—¶è·å–çš„éƒ½æ˜¯æ›´æ–°å‰çš„çŠ¶æ€ 0ã€‚

2ã€ä¸¤æ¬¡ setState æ—¶ï¼Œè·å–åˆ° this.state.val éƒ½æ˜¯ 0ï¼Œæ‰€ä»¥æ‰§è¡Œæ—¶éƒ½æ˜¯å°† 0 è®¾ç½®æˆ 1ï¼Œåœ¨ react å†…éƒ¨ä¼šè¢«åˆå¹¶æ‰ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚è®¾ç½®å®Œæˆå state.val å€¼ä¸º 1ã€‚

3ã€setTimeout ä¸­çš„ä»£ç ï¼Œè§¦å‘æ—¶ isBatchingUpdates ä¸º falseï¼Œæ‰€ä»¥èƒ½å¤Ÿç›´æ¥è¿›è¡Œæ›´æ–°ï¼Œæ‰€ä»¥è¿ç€è¾“å‡º 2ï¼Œ3ã€‚

è¾“å‡ºï¼š 0 0 2 3

æˆ‘ç†è§£çš„æ˜¯ï¼š`isBatchingUpdates` é»˜è®¤å€¼ä¸º falseï¼Œå½“ react è‡ªèº«çš„äº‹ä»¶å¤„ç†å‡½æ•°æˆ– react ç”Ÿå‘½å‘¨æœŸè§¦å‘æ—¶ï¼Œ`isBatchingUpdates` ä¼šè¢«èµ‹å€¼ä¸º trueï¼Œå½“æ›´æ–°å®Œæˆæ—¶åˆä¼šè¢«å¤åŸä¸º falseã€‚ @code-coder

2019-03-01

> ç¬¬ 18 é¢˜ï¼šReact ä¸­ setState ä»€ä¹ˆæ—¶å€™æ˜¯åŒæ­¥çš„ï¼Œä»€ä¹ˆæ—¶å€™æ˜¯å¼‚æ­¥çš„ï¼Ÿ

**è§£ç­”**
åœ¨Reactä¸­ï¼Œå¦‚æœæ˜¯ç”±Reactå¼•å‘çš„äº‹ä»¶å¤„ç†ï¼ˆæ¯”å¦‚é€šè¿‡onClickå¼•å‘çš„äº‹ä»¶å¤„ç†ï¼‰ï¼Œè°ƒç”¨setStateä¸ä¼šåŒæ­¥æ›´æ–°this.stateï¼Œé™¤æ­¤ä¹‹å¤–çš„setStateè°ƒç”¨ä¼šåŒæ­¥æ‰§è¡Œthis.stateã€‚
æ‰€è°“â€œé™¤æ­¤ä¹‹å¤–â€ï¼ŒæŒ‡çš„æ˜¯ç»•è¿‡Reacté€šè¿‡addEventListenerç›´æ¥æ·»åŠ çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿˜æœ‰é€šè¿‡setTimeout/setIntervaläº§ç”Ÿçš„å¼‚æ­¥è°ƒç”¨ã€‚

*åŸå› ï¼š*
åœ¨Reactçš„setStateå‡½æ•°å®ç°ä¸­ï¼Œä¼šæ ¹æ®ä¸€ä¸ªå˜é‡isBatchingUpdatesåˆ¤æ–­æ˜¯ç›´æ¥æ›´æ–°this.stateè¿˜æ˜¯æ”¾åˆ°é˜Ÿåˆ—ä¸­å›å¤´å†è¯´ï¼Œ
è€ŒisBatchingUpdatesé»˜è®¤æ˜¯falseï¼Œä¹Ÿå°±è¡¨ç¤ºsetStateä¼šåŒæ­¥æ›´æ–°this.stateï¼Œä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªå‡½æ•°batchedUpdatesï¼Œè¿™ä¸ªå‡½æ•°ä¼šæŠŠisBatchingUpdatesä¿®æ”¹ä¸ºtrueï¼Œ
è€Œå½“Reactåœ¨è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°ä¹‹å‰å°±ä¼šè°ƒç”¨è¿™ä¸ªbatchedUpdatesï¼Œé€ æˆçš„åæœï¼Œå°±æ˜¯ç”±Reactæ§åˆ¶çš„äº‹ä»¶å¤„ç†è¿‡ç¨‹setStateä¸ä¼šåŒæ­¥æ›´æ–°this.stateã€‚

-æ³¨æ„-

è¿™é‡Œæ‰€è¯´çš„åŒæ­¥å¼‚æ­¥ï¼Œ å¹¶ä¸æ˜¯çœŸæ­£çš„åŒæ­¥å¼‚æ­¥ï¼Œ å®ƒè¿˜æ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚
è¿™é‡Œçš„å¼‚æ­¥æŒ‡çš„æ˜¯å¤šä¸ªstateä¼šåˆæˆåˆ°ä¸€èµ·è¿›è¡Œæ‰¹é‡æ›´æ–°ã€‚

2019-02-28

2019-04-02

> ç¬¬ 1 æœŸï¼šå†™ React / Vue é¡¹ç›®æ—¶ä¸ºä»€ä¹ˆè¦åœ¨ç»„ä»¶ä¸­å†™ keyï¼Œå…¶ä½œç”¨æ˜¯ä»€ä¹ˆ

 A:
REFER: https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/1

> keyæ˜¯ç»™æ¯ä¸€ä¸ªvnodeçš„å”¯ä¸€id,å¯ä»¥ä¾é key,æ›´å‡†ç¡®, æ›´å¿«çš„æ‹¿åˆ°oldVnodeä¸­å¯¹åº”çš„vnodeèŠ‚ç‚¹ã€‚

1. æ›´å‡†ç¡®
å› ä¸ºå¸¦keyå°±ä¸æ˜¯å°±åœ°å¤ç”¨äº†ï¼Œåœ¨sameNodeå‡½æ•° a.key === b.keyå¯¹æ¯”ä¸­å¯ä»¥é¿å…å°±åœ°å¤ç”¨çš„æƒ…å†µã€‚æ‰€ä»¥ä¼šæ›´åŠ å‡†ç¡®ã€‚
2. æ›´å¿«
åˆ©ç”¨keyçš„å”¯ä¸€æ€§ç”Ÿæˆmapå¯¹è±¡æ¥è·å–å¯¹åº”èŠ‚ç‚¹ï¼Œæ¯”éå†æ–¹å¼æ›´å¿«ã€‚(è¿™ä¸ªè§‚ç‚¹ï¼Œå°±æ˜¯æˆ‘æœ€åˆçš„é‚£ä¸ªè§‚ç‚¹ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹ï¼Œmapä¼šæ¯”éå†æ›´å¿«ã€‚)

vueå’Œreactéƒ½æ˜¯é‡‡ç”¨diffç®—æ³•æ¥å¯¹æ¯”æ–°æ—§è™šæ‹ŸèŠ‚ç‚¹ï¼Œä»è€Œæ›´æ–°èŠ‚ç‚¹ã€‚åœ¨vueçš„diffå‡½æ•°ä¸­ï¼ˆå»ºè®®å…ˆäº†è§£ä¸€ä¸‹diffç®—æ³•è¿‡ç¨‹ï¼‰ã€‚
åœ¨äº¤å‰å¯¹æ¯”ä¸­ï¼Œå½“æ–°èŠ‚ç‚¹è·Ÿæ—§èŠ‚ç‚¹å¤´å°¾äº¤å‰å¯¹æ¯”æ²¡æœ‰ç»“æœæ—¶ï¼Œ`ä¼šæ ¹æ®æ–°èŠ‚ç‚¹çš„keyå»å¯¹æ¯”æ—§èŠ‚ç‚¹æ•°ç»„ä¸­çš„key`ï¼Œä»è€Œæ‰¾åˆ°ç›¸åº”æ—§èŠ‚ç‚¹ï¼ˆè¿™é‡Œå¯¹åº”çš„æ˜¯ä¸€ä¸ªkey => index çš„mapæ˜ å°„ï¼‰ã€‚
å¦‚æœæ²¡æ‰¾åˆ°å°±è®¤ä¸ºæ˜¯ä¸€ä¸ªæ–°å¢èŠ‚ç‚¹ã€‚è€Œå¦‚æœæ²¡æœ‰keyï¼Œé‚£ä¹ˆå°±ä¼šé‡‡ç”¨éå†æŸ¥æ‰¾çš„æ–¹å¼å»æ‰¾åˆ°å¯¹åº”çš„æ—§èŠ‚ç‚¹ã€‚ä¸€ç§ä¸€ä¸ªmapæ˜ å°„ï¼Œå¦ä¸€ç§æ˜¯éå†æŸ¥æ‰¾ã€‚ç›¸æ¯”è€Œè¨€ã€‚mapæ˜ å°„çš„é€Ÿåº¦æ›´å¿«ã€‚

another (å¯¹æ¯”)
æ­£æ˜¯å› ä¸ºå¸¦å”¯ä¸€keyæ—¶æ¯æ¬¡æ›´æ–°éƒ½ä¸èƒ½æ‰¾åˆ°å¯å¤ç”¨çš„èŠ‚ç‚¹ï¼Œä¸ä½†è¦é”€æ¯å’Œåˆ›å»ºvnodeï¼Œåœ¨DOMé‡Œæ·»åŠ ç§»é™¤èŠ‚ç‚¹å¯¹æ€§èƒ½çš„å½±å“æ›´å¤§ã€‚æ‰€ä»¥æ‰ä¼šè¯´â€œä¸å¸¦keyå¯èƒ½æ€§èƒ½æ›´å¥½â€ã€‚
è¯´åˆ°åº•ï¼Œ`keyçš„ä½œç”¨å°±æ˜¯æ›´æ–°ç»„ä»¶æ—¶åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦ç›¸åŒ`ã€‚ç›¸åŒå°±å¤ç”¨ï¼Œä¸ç›¸åŒå°±åˆ é™¤æ—§çš„åˆ›å»ºæ–°çš„ã€‚
å› ä¸ºä¸å¸¦keyæ—¶èŠ‚ç‚¹èƒ½å¤Ÿå¤ç”¨ï¼Œçœå»äº†é”€æ¯/åˆ›å»ºç»„ä»¶çš„å¼€é”€ï¼ŒåŒæ—¶åªéœ€è¦ä¿®æ”¹DOMæ–‡æœ¬å†…å®¹è€Œä¸æ˜¯ç§»é™¤/æ·»åŠ èŠ‚ç‚¹ï¼Œè¿™å°±æ˜¯æ–‡æ¡£ä¸­æ‰€è¯´çš„â€œåˆ»æ„ä¾èµ–é»˜è®¤è¡Œä¸ºä»¥è·å–æ€§èƒ½ä¸Šçš„æå‡â€ã€‚
æ—¢ç„¶å¦‚æ­¤ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å»ºè®®å¸¦keyå‘¢ï¼Ÿ`å› ä¸ºè¿™ç§æ¨¡å¼åªé€‚ç”¨äºæ¸²æŸ“ç®€å•çš„æ— çŠ¶æ€ç»„ä»¶`ã€‚å¯¹äºå¤§å¤šæ•°åœºæ™¯æ¥è¯´ï¼Œåˆ—è¡¨ç»„ä»¶éƒ½æœ‰è‡ªå·±çš„çŠ¶æ€ã€‚

## æ‰‹å†™js

2019-03-30

> ç¬¬ 45 é¢˜
å®ç°ä¸€ä¸ªnewæ“ä½œç¬¦
å®ç°ä¸€ä¸ªJSON.stringify
å®ç°ä¸€ä¸ªJSON.parse
å®ç°ä¸€ä¸ªcallæˆ– apply
å®ç°ä¸€ä¸ªFunction.bind
å®ç°ä¸€ä¸ªç»§æ‰¿
å®ç°ä¸€ä¸ªJSå‡½æ•°æŸ¯é‡ŒåŒ–
æ‰‹å†™ä¸€ä¸ªPromise(ä¸­é«˜çº§å¿…è€ƒ)
æ‰‹å†™é˜²æŠ–(Debouncing)å’ŒèŠ‚æµ(Throttling)
æ‰‹å†™ä¸€ä¸ªJSæ·±æ‹·è´
å®ç°ä¸€ä¸ªinstanceOf

REFER: https://juejin.im/post/5c9c3989e51d454e3a3902b6

 A:

```js new
function new (func, ...args) {
  let obj = Object.create(null)
  obj.__proto__ = func.prototype
  let ret = func.apply(obj, args)
  return typeof ret === 'object' ? ret : obj
}

// ç‰›äººæ˜¯è¿™ä¹ˆå†™çš„
function _new (fn, ...args) {
  const obj = Object.create(fn.prototype)
  const ret = fn.apply(obj, args)
  return ret instanceof Object ? ret : obj
}
```

 TIP: -
new å®ä¾‹åŒ–çš„è¿‡ç¨‹ï¼š

1. ç”Ÿæˆä¸€ä¸ªæ–°å¯¹è±¡
2. æŒ‚åœ¨åŸå‹é“¾
3. æ‰§è¡Œã€‚ç»‘å®šthis
4. è¿”å›æ–°å¯¹è±¡

JSON.stringify

> JSON.stringify(value[, replacer [, space]])

```js JSON.stringify
// Boolean | Number| String ç±»å‹ä¼šè‡ªåŠ¨è½¬æ¢æˆå¯¹åº”çš„åŸå§‹å€¼ã€‚
// undefinedã€ä»»æ„å‡½æ•°ä»¥åŠsymbolï¼Œä¼šè¢«å¿½ç•¥ï¼ˆå‡ºç°åœ¨éæ•°ç»„å¯¹è±¡çš„å±æ€§å€¼ä¸­æ—¶ï¼‰ï¼Œæˆ–è€…è¢«è½¬æ¢æˆ nullï¼ˆå‡ºç°åœ¨æ•°ç»„ä¸­æ—¶ï¼‰ã€‚
// ä¸å¯æšä¸¾çš„å±æ€§ä¼šè¢«å¿½ç•¥
// å¦‚æœä¸€ä¸ªå¯¹è±¡çš„å±æ€§å€¼é€šè¿‡æŸç§é—´æ¥çš„æ–¹å¼æŒ‡å›è¯¥å¯¹è±¡æœ¬èº«ï¼Œå³å¾ªç¯å¼•ç”¨ï¼Œå±æ€§ä¹Ÿä¼šè¢«å¿½ç•¥ã€‚

function jsonStringify (obj) {
  let type = typeof obj
  if (type !== 'object' || type === null) {
    if (/string|undefined|function/.test(type)) {
      obj = '"' + obj + '"'
      return String(obj)
    }
  } else {
    let json = []
    isArr = Array.isArray(obj)
    for (let key in obj) {
      let val = obj[key]
      let typeV = typeof val
      if (/string|undefined|function/.test(typeV)) {
        val = '"' + val + '"'
      } else if (typeV === 'object') {
        val = jsonStringify(val)
      }
      json.push((isArr ? '' : '"' + key + '"') + String(val))
    }
    return (isArr ? '[' : '{') + String(json) + (isArr ? ']' : '}')
  }
}
```

 TIP: -
ç†æ¸…æ€è·¯ä¹Ÿä¸éš¾

JSON.parse

> æ ¸å¿ƒï¼šFunctionä¸evalæœ‰ç›¸åŒçš„å­—ç¬¦ä¸²å‚æ•°ç‰¹æ€§ã€‚

```js JSON.parse
var jsonStr = '{ "age": 20, "name": "jack" }'
var json = (new Function('return ' + jsonStr))();
```

call

æ ¸å¿ƒï¼š

* å°†å‡½æ•°è®¾ä¸ºå¯¹è±¡çš„å±æ€§
* æ‰§è¡Œ&åˆ é™¤è¿™ä¸ªå‡½æ•°
* æŒ‡å®šthisåˆ°å‡½æ•°å¹¶ä¼ å…¥ç»™å®šå‚æ•°æ‰§è¡Œå‡½æ•°
* å¦‚æœä¸ä¼ å…¥å‚æ•°ï¼Œé»˜è®¤æŒ‡å‘ä¸º window

```js call
// Function.prototype._call = (context = window, ...args) => { // ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œä¸ç„¶å°±ç»‘å®šäº† this
Function.prototype._call = function (context = window, ...args) {
  context.fn = this
  let ret = context.fn(...args)
  delete context.fn
  return ret
}
```

```js apply
Function.prototype._apply = (context = window, ...args) => {
  context.fn = this
  let ret
  if (args.length > 1) {
    ret =  = context.fn(...args)
  } else {
    ret = context.fn()
  }
  delete context.fn
  return ret
}
```

bind

> ä¼šåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ã€‚å½“è¿™ä¸ªæ–°å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œbind() çš„ç¬¬ä¸€ä¸ªå‚æ•°å°†ä½œä¸ºå®ƒè¿è¡Œæ—¶çš„ thisï¼Œä¹‹åçš„ä¸€åºåˆ—å‚æ•°å°†ä¼šåœ¨ä¼ é€’çš„å®å‚å‰ä¼ å…¥ä½œä¸ºå®ƒçš„å‚æ•°ã€‚

```js bind
Function.prototype._bind = (cotext, ...args) => {
  if (typeof context !== 'function) {
    throw new Error('not a function)
  }
  let that = this
  let bound = function (...params) {
    return that.apply(this instanceof bound ? this : context, [...args, ...params])
  }
  function F () {}
  F.prototype = this.prototype
  bound.prototype = new F()

  return bound
}
```

debounce
é˜²æŠ–

> è§¦å‘é«˜é¢‘äº‹ä»¶ånç§’å†…å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœnç§’å†…é«˜é¢‘äº‹ä»¶å†æ¬¡è¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡ç®—æ—¶é—´

```js
const debounce = (fn, wait=500, immediate=true) => {
  let timer
  return function (...args) {
    timer && clearTimeout(timer)
    if (immediate) {
      !timer && fn.apply(this, args)
      timer = setTimeout(() => {
        return fn.apply(this, args)
      }, wait)
    } else {
      timer = setTimeout(() => {
        return fn.apply(this, args)
      }, wait)
    }
  }
}
```

throttle
èŠ‚æµ

> å¦‚æœä¸€ä¸ªå‡½æ•°æŒç»­çš„ï¼Œé¢‘ç¹åœ°è§¦å‘ï¼Œé‚£ä¹ˆè®©å®ƒåœ¨ä¸€å®šçš„æ—¶é—´é—´éš”åå†è§¦å‘ã€‚
> é«˜é¢‘äº‹ä»¶è§¦å‘ï¼Œä½†åœ¨nç§’å†…åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥èŠ‚æµä¼šç¨€é‡Šå‡½æ•°çš„æ‰§è¡Œé¢‘ç‡

```js
const throttle = (fn, wait=500) => {
  let timer
  return funciton (..args) {
    if (!timer) {
      timer = setTimeout(() => { // ä¸ç”¨ç®­å¤´å‡½æ•°çš„è¯ï¼Œéœ€è¦ä¿å­˜thiså˜é‡
        return fn.apply(this, atgs)
        timer = null
      }, wait)
    }
  }
}
```

 TIP: -
è¿˜æ˜¯å®¹æ˜“å¿˜è®°

deepClone

```js
function deepClone (obj) {
  let ret
  if (typeof obj === 'object') {
    ret = Array.isArray(obj) ? [] : {}
    for (let key in obj) {
      ret[key] = typeof obj[key] === 'object' ? deepClone(obj[key]) : obj[key]
    }
  } else {
    ret = obj // ç®€å•æ•°æ®ï¼Œç›´æ¥èµ‹å€¼
  }
  return ret
}

// ç®€å•

function deep_clone (obj) {
  return JSON.parse(JSON.stringify(obj))
}
```

instanceof

```js
function instanceOf (left, right) {
  let proto = left.__proto__
  let prototype = right.prototype
  while (true) {
    if (proto === null) return false
    if (proto === prototype) return true
    proto = proto.__proto__
  }
}
```

 TIP: -
éœ€è¦åˆ‡å®ç†è§£åŸå‹é“¾çš„æœºåˆ¶ï¼Œæ‰ä¼šæ˜ç™½è¿™é‡Œçš„å†™æ³•

promise

```js

```